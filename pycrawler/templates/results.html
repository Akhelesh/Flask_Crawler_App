{% extends "layout.html" %}
{% block content %}
    <div class="container">
        <div class="row mb-5">
            <div class="col-md-2 mt-1">
                <img src="{{ url_for('static', filename='images/crawler.png') }}" height="50" width="50">
            </div>
            <div class="col-md-8 offset-md-0 mt-2">
                <h2 class="float-left">Total Crawled Pages: {{ crawled|length }}</h2>    
            </div>
        </div>
        <div class="row border-bottom border-secondary">
            <embed type="image/svg+xml" src={{chart_data|safe}} /> 
        </div>
        <div class="row mt-5 mb-5">
            <div class="col-md-6">
                <h3 class="text-center">Crawled Links</h3>
                <ul class="list-group">
                    {% for link in crawled %}
                        <li class="list-group-item"><a href="{{ link }}">{{ link }}</a></li>
                    {% endfor %}
                </ul>
            </div>
            <div class="col-md-6">
                <h3 class="text-center">Linked External Domains</h3>
                <ul class="list-group">
                    {% for domain, link in ext_domains.items() %}
                        <li class="list-group-item"><a href="{{ link }}" target="_blank">{{ domain|capitalize }}</a></li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="row border-bottom border-secondary mb-5">
            <div class="col-md-12">
                <h3 class="text-center"><a href="{{ url_for('main.home') }}">Crawl Another Website</a></h3>
            </div>
        </div>
    </div>
{% endblock content %}